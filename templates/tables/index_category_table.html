{% extends 'base/base_table.html' %}

{% block table_header %}
<thead>
  <tr>
    <th class="align-left" width="40%">
      Subcategory
    </th>
    <th class="align-center" width="10%">
      Threads
    </th>
    <th class="align-center" width="10%">
      Posts
    </th>
    <th class="align-right hidden-xs" width="30%">
      Last Thread
    </th>
  </tr>
</thead>
{% endblock %}
{% block table_body %}
<tbody>
  {% for child in category.children %}
  <tr class="border-bottom">
    <td class="align-left">
      <p><a href="{% url 'board:subcategory' child.category.id %}">{{child.category.name}}</a></p>
      <p>{{child.category.description.rendered}}</p>
    </td>
    <td class="align-center">
      <p>{{child.num_threads}}</p>
    </td>
    <td class="align-center">
      <p>{{child.num_posts}}</p>
    </td>
    <td class="align-right hidden-xs">
      {% if child.category.last_thread %}
      <p><a href="{% url 'board:thread' child.category.last_thread.id %}">{{child.category.last_thread.title|truncatechars_html:30}}</a></p>
      <p>{{child.category.last_thread.created}}</p>
      <p>by <a href="{% url 'users:profile' child.category.last_thread.user.username %}">{{child.category.last_thread.user.username}}</a></p>
      {% else %}
      <p>No Threads</p>
      {% endif %}
    </td>
  </tr>
  {% endfor %}
</tbody>
{% endblock %}
{% block table_footer %}{% endblock %}
